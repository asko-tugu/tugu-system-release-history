# TUGU 점검 공지

## 점검 일정

- **날짜**: 2025년 3월 20일 (목)
- **시간**: 19:00 예정
- **예상 소요 시간**: 1시간 ~ 최대 2시간

## 점검 사전 작업

| 작업 내용                 | 상태   |
| ------------------------- | ------ |
| DB/File/소스 백업         | ⬜준비 |
| FileService 업데이트      | ⬜준비 |
| DB 작업 및 마이너그레이션 | ⬜준비 |

## DB 작업 및 마이너그레이션

| 구분 | Table         | 내용                                | 사전작업 | 상태   |
| ---- | ------------- | ----------------------------------- | -------- | ------ |
| 파일 | file_metadata | 생성                                | ✔️       | ⬜준비 |
| 파일 | profile_photo | 생성                                | ✔️       | ⬜준비 |
| 파일 | room_file     | 생성                                | ✔️       | ⬜준비 |
| 파일 | chat          | room_files 컬럼 추가(JSON)          | ✔️       | ⬜준비 |
| 파일 | chat          | chat_type 컬럼에 roomfile 타입 추가 | ✔️       | ⬜준비 |
| 파일 | user          | photo_url 컬럼 추가                 | ✔️       | ⬜준비 |
| 파일 | admin         | photo_url 컬럼 추가                 | ✔️       | ⬜준비 |
| 파일 | super_admin   | photo_url 컬럼 추가                 | ✔️       | ⬜준비 |
| 파일 | room          | photo_url 컬럼 추가                 | ✔️       | ⬜준비 |
| 파일 | company       | photo_url 컬럼 추가                 | ✔️       | ⬜준비 |
| 파일 | work_place    | photo_url 컬럼 추가                 | ✔️       | ⬜준비 |
| 초대 | room_invite   | from_user_type 컬럼 추가            | ✔️       | ✅완료 |
| 초대 | room_invite   | to_user_type 컬럼 추가              | ✔️       | ✅완료 |

## 개선 작업

| 구분   | 작업 내용                                                                                | 사전작업 | 상태   |
| ------ | ---------------------------------------------------------------------------------------- | -------- | ------ |
| 파일   | FileService 신규 배포 - AWS S3 연동 관련 파일정보관리/프로필/대화방파일 관련 처리 서비스 | ✔️       | ⬜준비 |
| 파일   | 대화방 Voice/Image/File 파일 채팅 AWS S3 대응 사전 작업                                  | ✔️       | ⬜준비 |
| 파일   | 사용자/Admin/SuperAdmim/Company/WorkPlace/Room 프로필 사진 AWS S3 대응 사전 작업         | ✔️       | ⬜준비 |
| 대화방 | 대화방 생성/삭제/초대/강퇴/나가기/이름변경 'room' socket.io Event 추가                   | ✔️       | ⬜준비 |
| 대화방 | 조직 사용자 Login/Logout/조직변경/현장변경 'company' socket.io Event 추가                | ✔️       | ⬜준비 |
| 대화방 | 조직 알림 companyJoin' socket.io Event 추가                                              | ✔️       | ⬜준비 |

## 오류 수정

| 구분   | 작업 내용                                            | 사전작업 | 상태   |
| ------ | ---------------------------------------------------- | -------- | ------ |
| 대화방 | 대화방 초대 알림 정보에 사용자 타입 정보 및 API 추가 | ✔️       | ⬜준비 |
| 조직도 | 조직도 하위 그룹 최대 5개 까지만 출력/설정 문제 수정 | ✖️       | ⬜준비 |

## 기타 안내

점검 작업 중 일시적으로 서비스 이용이 제한될 수 있습니다.  
사전 작업은 App/Admin/관제 업데이트 이후나 개발 환경에서 확인 가능합니다.  
안정적인 서비스를 제공하기 위해 최선을 다하겠습니다.

감사합니다.

---

점검 완료 후에는 각 상태 항목에 완료를 추가하여 결과를 공유드리겠습니다.
